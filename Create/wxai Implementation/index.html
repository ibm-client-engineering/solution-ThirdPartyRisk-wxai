<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Create/wxai Implementation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">wxai Implementation | Third Party Risk x wxai</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ibm-client-engineering.github.io/solution-ThirdPartyRisk-wxai/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ibm-client-engineering.github.io/solution-ThirdPartyRisk-wxai/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ibm-client-engineering.github.io/solution-ThirdPartyRisk-wxai/Create/wxai Implementation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="ibm client engineering, open solutions library"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="wxai Implementation | Third Party Risk x wxai"><meta data-rh="true" name="description" content="sample page"><meta data-rh="true" property="og:description" content="sample page"><link data-rh="true" rel="icon" href="/solution-ThirdPartyRisk-wxai/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ibm-client-engineering.github.io/solution-ThirdPartyRisk-wxai/Create/wxai Implementation"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-ThirdPartyRisk-wxai/Create/wxai Implementation" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-ThirdPartyRisk-wxai/Create/wxai Implementation" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/solution-ThirdPartyRisk-wxai/flight-logs/rss.xml" title="Third Party Risk x wxai RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/solution-ThirdPartyRisk-wxai/flight-logs/atom.xml" title="Third Party Risk x wxai Atom Feed">






<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GB0XWXF3GE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GB0XWXF3GE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/solution-ThirdPartyRisk-wxai/assets/css/styles.4d00974f.css">
<script src="/solution-ThirdPartyRisk-wxai/assets/js/runtime~main.4b0e27b9.js" defer="defer"></script>
<script src="/solution-ThirdPartyRisk-wxai/assets/js/main.ab035fd2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solution-ThirdPartyRisk-wxai/"><div class="navbar__logo"><img src="/solution-ThirdPartyRisk-wxai/img/logo.svg" alt="IBM Client Engineering Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="200" width="200"><img src="/solution-ThirdPartyRisk-wxai/img/logo-dark.svg" alt="IBM Client Engineering Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="200" width="200"></div><b class="navbar__title text--truncate">| Third Party Risk with watsonx.ai</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/solution-ThirdPartyRisk-wxai/flight-logs">Flight Logs</a><a href="https://github.com/ibm-client-engineering/solution-ThirdPartyRisk-wxai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/solution-ThirdPartyRisk-wxai/">Third Party Risk with watsonx.ai</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/solution-ThirdPartyRisk-wxai/Overview/Business Overview">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/solution-ThirdPartyRisk-wxai/Prepare/software-reqs">Prepare</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/solution-ThirdPartyRisk-wxai/Create/wxai Implementation">Create</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/solution-ThirdPartyRisk-wxai/Create/wxai Implementation">wxai Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-ThirdPartyRisk-wxai/Create/OpenPages Ext Input">OpenPages with External Input</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/solution-ThirdPartyRisk-wxai/Takeaways">Takeaways</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/solution-ThirdPartyRisk-wxai/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Create</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">wxai Implementation</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>wxai Implementation</h1></header><div style="border-bottom:1px solid #000;margin-top:20px;margin-bottom:20px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preprocess-source-documents">Preprocess Source Documents<a href="#preprocess-source-documents" class="hash-link" aria-label="Direct link to Preprocess Source Documents" title="Direct link to Preprocess Source Documents">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preprocess-msr-docuemnt-and-attach-the-relevant-metadata">Preprocess MSR docuemnt and attach the relevant metadata<a href="#preprocess-msr-docuemnt-and-attach-the-relevant-metadata" class="hash-link" aria-label="Direct link to Preprocess MSR docuemnt and attach the relevant metadata" title="Direct link to Preprocess MSR docuemnt and attach the relevant metadata">​</a></h3>
<p>To retrieve the relevant metadata from the MSR document, we need to first identify where the Minimum Security Requirements section is along with what the subsections are to figure out when the section begins and end.
Now let&#x27;s create a <code>section_extraction</code> function that takes in the name of the pdf file.
In the function, there are four main parts. The first part is to utilize the <code>PdfReader</code> from the <code>PyPDF2</code> library to read and extract the content from the MSR pdf.
Then, loop through the pdf and remove any headers, footers, or new lines from the extracted content.
Afterwards, create a nested-loop to extract the file name, header, summary, subheading, and the subheading&#x27;s content and place it into a dictionary format.</p>
<p>Here is an example of the dictionary format:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">value == where the extracted content belong</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">dictionary = {File Name: &quot;value&quot;, Header: &quot;value&quot;, Summary: &quot;value&quot;, Subheading: &quot;value&quot;, Content: &quot;value&quot;}, {...}, ...</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is where you can use python&#x27;s <code>find()</code> function to find the content to match the key of the dictionary. Lastly, place the finished dictionary into a final list and dump/write into a JSON file.</p>
<p>If you need support in constructing the function, you can find the pre-processing function <a href="https://github.ibm.com/ibm-client-engineering/solution-thirdPartyRisk-wxai/blob/ebb6ea22071760994a5a071f19b02831752e9ff6/assets/Code_src/version_2/MSR_preprocess.py#L141" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vector-database---chromadb">Vector Database - Chromadb<a href="#vector-database---chromadb" class="hash-link" aria-label="Direct link to Vector Database - Chromadb" title="Direct link to Vector Database - Chromadb">​</a></h3>
<p>After we cut the MSR into chunks and stored it in json, we stored the chunks along with their associated metadata in a vector database. This allowed us to do semantic searches using the question text to find the most similar MSR context. The vector database that we used to store the msr context was created using <a href="https://www.trychroma.com" target="_blank" rel="noopener noreferrer">chromadb</a>. We used the default vector embedding and cosine similarity, although these could be tweaked for better results.</p>
<p>You can find the code where we ingested the documents into the vector database <a href="https://github.ibm.com/ibm-client-engineering/solution-thirdPartyRisk-wxai/blob/ebb6ea22071760994a5a071f19b02831752e9ff6/assets/Code_src/version_2/MSR_preprocess.py#L24" target="_blank" rel="noopener noreferrer">here</a>. The content is just the text from that chunk of the MSR, and we stored information about headers, filename, and a summary in the metadata. We kept the formation of the ids the same, so that chromadb could recognize that we were not adding new chunks every time we reran a script that used the MSR vector database.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-reference-report">Create Reference Report<a href="#create-reference-report" class="hash-link" aria-label="Direct link to Create Reference Report" title="Direct link to Create Reference Report">​</a></h2>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extract-sig-question">Extract SIG Question<a href="#extract-sig-question" class="hash-link" aria-label="Direct link to Extract SIG Question" title="Direct link to Extract SIG Question">​</a></h3>
<p>To extract each of the questions from the blank SIG, we need to read the blank SIG as a pandas dataframe. the <code>read_excel()</code> function does this pretty well, but there were two important steps. First, because the blank SIG has multiple sheets, the object read out of the <code>read_excel()</code> function will be a dictionary of dataframes organized by sheet name. Second, the only one of these sheets we cared about is the &quot;Content Library&quot; sheet, because that sheet contains every question. Accordingly, our code to read the blank SIG and extract the questions was as follows:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create_ref_sig</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">bs_df</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    questions </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> bs_df</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&quot;Content Library&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">iloc</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token number" style="color:#5a9bcf">4</span><span class="token punctuation" style="color:#8dc891">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>where bs_df is the object from the <code>read_excel()</code> function, and the only columns selected are the question and question number column.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="determine-reference-response">Determine Reference Response<a href="#determine-reference-response" class="hash-link" aria-label="Direct link to Determine Reference Response" title="Direct link to Determine Reference Response">​</a></h3>
<p>In order to create the Reference Report, the LLM needs to provide the best answer to each SIG question, answering to its best ability what the bank would want from their vendors. That is where the <code>determine_response()</code> function comes, as it takes in each SIG question then outputs a Yes/No Response and an Additional Context message to give more information, all in JSON format. To view the exact code, please check out <a href="https://github.ibm.com/ibm-client-engineering/solution-thirdPartyRisk-wxai/blob/main/assets/Code_src/version_2/reference_SIG_generator.py" target="_blank" rel="noopener noreferrer">this</a> link. Otherwise, the prompt that was utilized is below:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">prompt_input </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;&lt;|system|&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">You are Granite Chat, an AI language model developed by the IBM DMF Alignment Team. You are a cautious assistant that carefully follows instructions. You are helpful and harmless and you follow ethical guidelines and promote positive behavior. You respond in a comprehensive manner unless instructed otherwise, providing explanations when needed while maintaining a neutral tone. You are capable of coding, writing, and roleplaying. You are cautious and refrain from generating real-time information, highly subjective or opinion-based topics. You are harmless and refrain from generating content involving any form of bias, violence, discrimination or inappropriate content. You always respond to greetings (for example, hi, hello, g&#x27;day, morning, afternoon, evening, night, what&#x27;s up, nice to meet you, sup, etc) with &quot;Hello! I am Granite Chat, created by the IBM DMF Alignment Team. How can I help you today?&quot;. Please do not say anything else and do not start a conversation.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&lt;|user|&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">I will give you a question from a Standardized Information Gathering (SIG) Questionnaire regarding security. Answer Yes or No. Use your best judgement as to what response the bank would want from their vendors.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Please answer only in the following manner and in json output:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{&quot;Response&quot;: &quot;Yes&quot;, &quot;Additional Context&quot;:&quot;&lt;if any additional context&gt;&quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{&quot;Response&quot;: &quot;No&quot;, &quot;Additional Context&quot;:&quot;&lt;if any additional context&gt;&quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&lt;|assistant|&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Here are a few examples:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">SIG Question #1: Does the password policy require password expiration within 90 days or less?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Answer: {&quot;Response&quot;: &quot;Yes&quot;, &quot;Additional Context&quot;: &quot;To ensure proper security protocol and risk mitigation, password policy should require password expiration within 90 days or less.&quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">SIG Question #2: Does the password policy require changing passwords when there is an indication of possible system or password compromise?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Answer: {&quot;Response&quot;: &quot;Yes&quot;, &quot;Additional Context&quot;: &quot;When any indication of system or password comprise occurs, passwords need to be changed.&quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">SIG Question #3: Does the password policy apply to all network devices including routers, switches, and firewalls?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Answer: {&quot;Response&quot;: &quot;Yes&quot;, &quot;Additional Context&quot;: &quot;Passwords for every system should adhere to password policy.&quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">SIG Question #4: Is there an administrative process to revoke authenticators if required?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Answer: {&quot;Response&quot;: &quot;Yes&quot;, &quot;Additional Context&quot;: &quot;The ability to revoke access to certain personnel should always be required.&quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">SIG Question #5: Is access to systems that store, or process scoped data limited?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Answer: {&quot;Response&quot;: &quot;Yes&quot;, &quot;Additional Context&quot;: &quot;Access should always be limited to systems that store confidential data.&quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&lt;|user|&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Please provide the answer to the following SIG Question in JSON:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><span class="token operator" style="color:#d7deea">+</span><span class="token plain">question</span><span class="token operator" style="color:#d7deea">+</span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Answer:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&lt;|assistant|&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="determine-relevant-msr-context">Determine Relevant MSR Context<a href="#determine-relevant-msr-context" class="hash-link" aria-label="Direct link to Determine Relevant MSR Context" title="Direct link to Determine Relevant MSR Context">​</a></h3>
<p>Determining the MSR context originally utilized just a vector database for semantic search, but we found that this created an unforseen issue. Although the MSR covers much of the same ground as the SIG questionaire, the venn diagram isn&#x27;t a perfect circle, so to speak. When the SIG question does not have a truly relevant MSR context, we would still assign it the closest section of the MSR that the vector database could find, which then also found its way into the process for determining the reference response, producing results that sometimes seemed to align more with the MSR context than the question itself.</p>
<p>For example, the question from the section on Environmental, Social, and Governance (ESG) &quot;Does the organization maintain processes to ensure there are no adverse impacts on biodiversity, including deforestation, ecosystem integrity, natural resource conservation, and land degradation?&quot; would sometimes be given the reference response &quot;No&quot; because of the irrelevant MSR context provided.</p>
<p>To remedy this, we added an extra step after retrieving the three most similar chunk of the MSR that verifies if any of the MSR contexts is actually relevant or not, and if so which one is the most relevant. You can find this function along with the associated prompt we used <a href="https://github.ibm.com/ibm-client-engineering/solution-thirdPartyRisk-wxai/blob/ebb6ea22071760994a5a071f19b02831752e9ff6/assets/Code_src/version_2/reference_SIG_generator.py#L161" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="determine-issue">Determine Issue<a href="#determine-issue" class="hash-link" aria-label="Direct link to Determine Issue" title="Direct link to Determine Issue">​</a></h3>
<p>Based on our experience with irrelevant MSR contexts causing issues further down the pipeline, we decided to implement a similar system for determining the most relevant issue from the catalog (if one exists). In this case, because we already know what domain the question is from the first letter of the question number we can filter out all of the issues not associated with that domain. The <code>test_doc_needed()</code> function checks if the issue references an external document, which we are excluding for this POC because we do not have any of those documents.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">#Retrieve all the issues (that dont rely on external docs) corresponding to the letter/domain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">filter_issues</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">letter</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    num_rows</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> _ </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">shape</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    issues </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">range</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">num_rows</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">type</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">df</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">iloc</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">and</span><span class="token plain"> df</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">iloc</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">lower</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"> letter</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">lower</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">and</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> test_doc_needed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">df</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            qn </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">iloc</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            issue_desc </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">loc</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Issue Description&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            risk_statement </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">loc</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Risk Statement&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            issues</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token string" style="color:#8dc891">&quot;Ques Num&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> qn</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Issue Description&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> issue_desc</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Risk Statement&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> risk_statement</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> issues</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The next step is to do a relevancy check similar to the one done for the MSR context. You can find the code and prompt for that <a href="https://github.ibm.com/ibm-client-engineering/solution-thirdPartyRisk-wxai/blob/ebb6ea22071760994a5a071f19b02831752e9ff6/assets/Code_src/version_2/reference_SIG_generator.py#L266" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-assessor-report">Create Assessor Report<a href="#create-assessor-report" class="hash-link" aria-label="Direct link to Create Assessor Report" title="Direct link to Create Assessor Report">​</a></h2>
<hr>
<p>We created the assessor report according to this truth table, where we catagorize each vendor response as an issue, gap, or neither depending on their inputs in the response and additional information fields. We labelled the responses according to this truth table:</p>
<p><img loading="lazy" alt="truth table" src="/solution-ThirdPartyRisk-wxai/assets/images/truthtable-1d012bf4947511278c4af020f6eadeb8.png" width="1672" height="918" class="img_ev3q"></p>
<p>To determine if a response&#x27;s additional information supports or contradicts their response, we used an LLM.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="classify-issue">Classify Issue<a href="#classify-issue" class="hash-link" aria-label="Direct link to Classify Issue" title="Direct link to Classify Issue">​</a></h3>
<p>If the response provided by the vendor is the inverse of the reference response, then its likely that there is an issue. Still, we needed to check for the rare case where the vendor provides additional information that would seemingly imply that their answer should have been the desired one. Alternatively, the vendor could also provide additional information that reasonably justifies their response. In either case, if the LLM determines that the additional information indicates that the vendor response is not a true issue, then it is reclassified as a gap.</p>
<p>In any other case, the original classification as an issue stands.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="classify-gap">Classify Gap<a href="#classify-gap" class="hash-link" aria-label="Direct link to Classify Gap" title="Direct link to Classify Gap">​</a></h3>
<p>Leverage an LLM to determine whether or not the &quot;Additional Information&quot; provided within the vendor SIG supports or contradicts the response the vendor provided in the SIG.</p>
<ul>
<li>If the &quot;Additional Information&quot; supports the vendor SIG response then classify the Gap as &quot;No&quot;</li>
<li>If the &quot;Additional Information&quot; contradicts the vendor SIG response then classify the Gap as &quot;Yes&quot;</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">    prompt </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot; &lt;|begin_of_text|&gt;&lt;|start_header_id|&gt;user&lt;|end_header_id|&gt; {INSTRUCTION}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">    You are provided with an input SIG question, vendor response in either &quot;Yes&quot; or &quot;No&quot;, and a addtitional information provided by vendor to support their response. Based on your analysis, categorize the output into one of two categories:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">      1. &quot;provided, contradicts response&quot; in case additional information is provided but it does not support the response given by vendor.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">      2. &quot;provided, supports response&quot; in case additional information is provided and it supports the response given by vendor.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">            - Be very exact in generating output.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">            - Do not generate any reasoning in the output.\n\n&quot;&quot;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;#### START OF QUESTION ####\n\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;[input SIG Question: ]&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain">  </span><span class="token string-interpolation string" style="color:#8dc891">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#8dc891">{</span><span class="token string-interpolation interpolation">input_ques</span><span class="token string-interpolation interpolation punctuation" style="color:#8dc891">}</span><span class="token string-interpolation string" style="color:#8dc891">\n\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;[vendor response: ]&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#8dc891">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#8dc891">{</span><span class="token string-interpolation interpolation">resp</span><span class="token string-interpolation interpolation punctuation" style="color:#8dc891">}</span><span class="token string-interpolation string" style="color:#8dc891">\n\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;[additional info: ]&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#8dc891">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#8dc891">{</span><span class="token string-interpolation interpolation">info</span><span class="token string-interpolation interpolation punctuation" style="color:#8dc891">}</span><span class="token string-interpolation string" style="color:#8dc891">\n\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;#### END OF QUESTION ####  &lt;|eot_id|&gt;&lt;|start_header_id|&gt;assistant&lt;|end_header_id|&gt;\n\n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;Output: &quot;</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="provide-msr-context">Provide MSR Context<a href="#provide-msr-context" class="hash-link" aria-label="Direct link to Provide MSR Context" title="Direct link to Provide MSR Context">​</a></h3>
<p>Copy the relevant MSR context from the reference SIG for the respective SIG question.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="provide-recommendation">Provide Recommendation<a href="#provide-recommendation" class="hash-link" aria-label="Direct link to Provide Recommendation" title="Direct link to Provide Recommendation">​</a></h3>
<p>To successfully compare the vendor-given report to the Reference Report, there needs to be a function that takes in the SIG Question, its corresponding relevant MSR context, and its Additional Information (if given), to determine if the vendor-given report aligns with the Reference report. That is where the <code>generate_recommendation()</code> function came in as it takes in all 3 of those arguments to determine if the 2 reports are Relevant (Yes), Partially Relevant, or Not relevant (No), while additionally providing and explanation if necessary and follow-up questions to ask the vendor in the scenario where the reports are partially or not relevant. To check out our code, please feel free to view it at <a href="https://github.ibm.com/ibm-client-engineering/solution-thirdPartyRisk-wxai/blob/main/assets/Code_src/version_2/vendor_SIG_report.py" target="_blank" rel="noopener noreferrer">this</a> link. In the meantime, view the prompt that was used here:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">instruction </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;You are a security analyst. I will give you three items, a Standardized Information Gathering (SIG) question, a Minimum Security Requirement (MSR) Reference text, and an Additional Information text. Determine if the Additional Information text answers the SIG question and/or if the Additional Information text supports the MSR Reference text. Output should be either Yes, No or Partially relevant. If applicable, please provide an explanation in detail and any follow-up questions that you&#x27;d like to ask the vendor.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">For the explanation, explain in detail how you got to the conclusion of the status, be specific if the content was gathered from additional information to back up the selected status, and why you conclude with the selected status.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">For the follow-up questions, you are expected to generate more than one follow-up question until you think it is enough to gather the answer we need to answer the SIG&#x27;s question. Lastly, make sure the follow-up questions are in a numbered list.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Please answer in the following manner and in json output:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{&quot;status&quot;: &quot;Yes&quot;, &quot;explanation and follow-up questions&quot;:&quot;&lt;if any explanation&gt; &lt;if any follow-up questions&gt; &quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{&quot;status&quot;: &quot;Partially relevant&quot;, &quot;explanation and follow-up questions&quot;:&quot;&lt;if any explanation&gt; &lt;if any follow-up questions&gt; &quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{&quot;status&quot;: &quot;No&quot;, &quot;explanation and follow-up questions&quot;:&quot;&lt;if any explanation&gt; &lt;if any follow-up questions&gt; &quot;}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Below is the status definition:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">status: Yes, the Additional Information text addresses the SIG question and is in alignment with the MSR Requirement policies.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">status: Partially relevant, either the Additional Information text addresses the SIG question or the Additional Information text is in alignment with the MSR requirement policies.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">status: No, the Additional Information text does not addresses the SIG question and is not in alignment with the MSR Requirement policies.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Question:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{{Question}}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Minimum Security Requirement Text:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{{MSRContext}}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Vendor document:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{{AdditionalInfo}}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Result:&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">examples </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;[</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">{</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">    &quot;input&quot;: &quot;**DISCLAIMER: Follow examples for structure of what the output should look like**\n\nquestion = question content \n\nMSRcontext = MSR content \n\nAdditionalInfo = additional vendor info content &quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">    &quot;output&quot;: &quot;{\&quot;status\&quot;: \&quot;status answer\&quot;, \&quot;explanation and follow-up questions\&quot;:\&quot;Explanation content.\n\nFollow-up questions: \n1. Question 1 \n2. Question 2\n3. Question 3\&quot;}&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">]&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token builtin" style="color:#D8DEE9">input</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;question = &quot;&quot;&quot;</span><span class="token operator" style="color:#d7deea">+</span><span class="token plain">question</span><span class="token operator" style="color:#d7deea">+</span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><span class="token operator" style="color:#d7deea">+</span><span class="token plain">msr_context</span><span class="token operator" style="color:#d7deea">+</span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="display:inline-block;color:#8dc891"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><span class="token operator" style="color:#d7deea">+</span><span class="token plain">additional_info</span><span class="token operator" style="color:#d7deea">+</span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">input_prefix </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Input:&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">output_prefix </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Output:&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">prompt_input </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> instruction </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> examples </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">input</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> input_prefix </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> output_prefix</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/solution-ThirdPartyRisk-wxai/Prepare/software-reqs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Software Requirements</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/solution-ThirdPartyRisk-wxai/Create/OpenPages Ext Input"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OpenPages with External Input</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preprocess-source-documents" class="table-of-contents__link toc-highlight">Preprocess Source Documents</a><ul><li><a href="#preprocess-msr-docuemnt-and-attach-the-relevant-metadata" class="table-of-contents__link toc-highlight">Preprocess MSR docuemnt and attach the relevant metadata</a></li><li><a href="#vector-database---chromadb" class="table-of-contents__link toc-highlight">Vector Database - Chromadb</a></li></ul></li><li><a href="#create-reference-report" class="table-of-contents__link toc-highlight">Create Reference Report</a><ul><li><a href="#extract-sig-question" class="table-of-contents__link toc-highlight">Extract SIG Question</a></li><li><a href="#determine-reference-response" class="table-of-contents__link toc-highlight">Determine Reference Response</a></li><li><a href="#determine-relevant-msr-context" class="table-of-contents__link toc-highlight">Determine Relevant MSR Context</a></li><li><a href="#determine-issue" class="table-of-contents__link toc-highlight">Determine Issue</a></li></ul></li><li><a href="#create-assessor-report" class="table-of-contents__link toc-highlight">Create Assessor Report</a><ul><li><a href="#classify-issue" class="table-of-contents__link toc-highlight">Classify Issue</a></li><li><a href="#classify-gap" class="table-of-contents__link toc-highlight">Classify Gap</a></li><li><a href="#provide-msr-context" class="table-of-contents__link toc-highlight">Provide MSR Context</a></li><li><a href="#provide-recommendation" class="table-of-contents__link toc-highlight">Provide Recommendation</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Explore</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM</a></li><li class="footer__item"><a href="https://www.ibm.com/client-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Client Engineering</a></li><li class="footer__item"><a href="https://github.com/ibm-client-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Client Engineering Solutions Hub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://ibm.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://www.ibm.com/brand/experience-guides/developer/8f4e3cc2b5d52354a6d43c8edba1e3c9/02_8-bar-reverse.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="200" height="150"><img src="https://www.ibm.com/brand/experience-guides/developer/8f4e3cc2b5d52354a6d43c8edba1e3c9/02_8-bar-reverse.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="200" height="150"></a></div></div></div></footer></div>
</body>
</html>